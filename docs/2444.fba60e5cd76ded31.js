"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2444],{2444:(M,d,i)=>{i.r(d),i.d(d,{TrendingPageModule:()=>C});var g=i(6814),p=i(6223),a=i(3582),u=i(7166),h=i(8520),v=i(5861),f=i(3778),n=i(2029),m=i(6593),P=i(2196),T=i(2484),y=i(8144);function S(e,s){1&e&&(n.ynx(0),n._UZ(1,"app-clock-loading"),n.BQk())}const Z=[{path:"",component:(()=>{var e;class s{constructor(t,r,o){this.titleService=t,this.pexelsService=r,this.helperService=o,this.subs=new f.t,this.curatedPhotos=[],this.page=1,this.isLoading=!1}ngOnInit(){this.titleService.setTitle("PicHunt | Trending"),this.getCuratedPhotos()}getCuratedPhotos(){var r,t=this;this.subs.add=this.pexelsService.getCuratedPhotos(this.page).subscribe({next:r=>{var o;this.curatedPhotos=[...this.curatedPhotos,...r.photos||[]],null===(o=this.infiniteScroll)||void 0===o||o.complete(),this.isLoading=!1},error:(r=(0,v.Z)(function*(o){var c;null===(c=t.infiniteScroll)||void 0===c||c.complete(),t.isLoading=!1,yield t.helperService.showError(null==o?void 0:o.code)}),function(c){return r.apply(this,arguments)})})}onGalleryInfinite(t){this.page=this.page+1,this.isLoading=!0,this.getCuratedPhotos()}}return(e=s).\u0275fac=function(t){return new(t||e)(n.Y36(m.Dx),n.Y36(P.U),n.Y36(f.W))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-trending"]],viewQuery:function(t,r){if(1&t&&n.Gf(a.ju,5),2&t){let o;n.iGM(o=n.CRH())&&(r.infiniteScroll=o.first)}},decls:11,vars:6,consts:[["mode","ios",3,"translucent"],[1,"ion-padding"],[3,"photos"],[3,"ionInfinite"],["infiniteScroll",""],[1,"infinite-scroll-content"],[4,"ngIf"]],template:function(t,r){1&t&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),n._uU(3),n.ALo(4,"translate"),n.qZA()()(),n.TgZ(5,"ion-content",1),n._UZ(6,"app-gallery-view",2),n.TgZ(7,"ion-infinite-scroll",3,4),n.NdJ("ionInfinite",function(c){return r.onGalleryInfinite(c)}),n.TgZ(9,"div",5),n.YNc(10,S,2,0,"ng-container",6),n.qZA()()()),2&t&&(n.Q6J("translucent",!0),n.xp6(3),n.hij(" ",n.lcZ(4,4,"trending.title")," "),n.xp6(3),n.Q6J("photos",r.curatedPhotos),n.xp6(4),n.Q6J("ngIf",r.isLoading))},dependencies:[g.O5,a.W2,a.Gu,a.ju,a.wd,a.sr,T.p,y.I,u.X$]}),s})()}];let x=(()=>{var e;class s{}return(e=s).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[h.Bz.forChild(Z),h.Bz]}),s})();var I=i(6208);let C=(()=>{var e;class s{}return(e=s).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[g.ez,p.u5,a.Pc,x,I.m,u.aw]}),s})()}}]);