"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4774],{4774:(y,d,n)=>{n.r(d),n.d(d,{ImageViewerPageModule:()=>V});var l=n(6814),f=n(6223),a=n(3582),m=n(7166),h=n(8520),p=n(5861);const w=(0,n(2726).fo)("Browser",{web:()=>n.e(3671).then(n.bind(n,3671)).then(t=>new t.BrowserWeb)});var u=n(3778),e=n(2029),I=n(2196);function P(t,r){if(1&t){const i=e.EpF();e.ynx(0),e.TgZ(1,"section",8)(2,"ion-chip",9),e.NdJ("click",function(){e.CHM(i);const s=e.oxw();return e.KtG(s.viewPhotographer(s.photo.photographer_url))}),e.TgZ(3,"ion-avatar"),e._UZ(4,"img",10),e.qZA(),e.TgZ(5,"ion-label"),e._uU(6),e.qZA()()(),e.TgZ(7,"section",11),e._UZ(8,"img",12),e.qZA(),e.BQk()}if(2&t){const i=e.oxw();e.xp6(4),e.MGl("alt","Profile photo of ",i.photo.photographer,""),e.xp6(2),e.Oqu(i.photo.photographer),e.xp6(2),e.s9C("ngSrc",i.photo.src.original),e.s9C("alt",i.photo.alt),e.s9C("height",i.photo.height),e.s9C("width",i.photo.width)}}function Z(t,r){1&t&&(e.ynx(0),e._UZ(1,"ion-spinner",13),e.BQk())}function x(t,r){1&t&&e._UZ(0,"ion-icon",14)}const b=[{path:":id",component:(()=>{var t;class r{constructor(o,s,g){this.route=o,this.pexelsService=s,this.helperService=g,this.subs=new u.t,this.isLoading=!1,this.isDownload=!1}ngOnInit(){this.photoId=this.route.snapshot.paramMap.get("id")||"",this.photoId&&this.getImageInfo(this.photoId),this.subs.add=this.helperService.downloadPicture.subscribe(o=>{this.isDownload=o})}getImageInfo(o){var g,s=this;this.isLoading=!0,this.subs.add=this.pexelsService.getPhotoById(o).subscribe({next:g=>{this.photo=g,this.isLoading=!1},error:(g=(0,p.Z)(function*(c){yield s.helperService.showError(null==c?void 0:c.code),s.isLoading=!1}),function(C){return g.apply(this,arguments)})})}viewPhotographer(o){return(0,p.Z)(function*(){o&&(yield w.open({url:o}))})()}onDownloadImage(o){o&&this.helperService.downloadImage(o)}ngOnDestroy(){this.subs.dispose()}}return(t=r).\u0275fac=function(o){return new(o||t)(e.Y36(h.gz),e.Y36(I.U),e.Y36(u.W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-image-viewer"]],decls:15,vars:11,consts:[[3,"translucent"],["slot","start"],["defaultHref","/","icon","chevron-back-outline",3,"text"],[4,"ngIf"],["slot","fixed","vertical","bottom","horizontal","end"],["size","small",3,"disabled","click"],[4,"ngIf","ngIfElse"],["download",""],[1,"ion-padding"],[3,"click"],["ngSrc","./assets/img/avatar.svg","height","512","width","512",3,"alt"],[1,"image-container"],[1,"image-preview",3,"ngSrc","alt","height","width"],["name","lines-sharp-small"],["name","cloud-download-outline"]],template:function(o,s){if(1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"ion-buttons",1),e._UZ(6,"ion-back-button",2),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"ion-content"),e.YNc(9,P,9,6,"ng-container",3),e.qZA(),e.TgZ(10,"ion-fab",4)(11,"ion-fab-button",5),e.NdJ("click",function(){return s.onDownloadImage(s.photo.src.original)}),e.YNc(12,Z,2,0,"ng-container",6),e.YNc(13,x,1,0,"ng-template",null,7,e.W1O),e.qZA()()),2&o){const g=e.MAs(14);e.Q6J("translucent",!0),e.xp6(3),e.hij(" ",e.lcZ(4,7,"image_viewer.title")," "),e.xp6(3),e.s9C("text",e.lcZ(7,9,"common.back")),e.xp6(3),e.Q6J("ngIf",s.photo),e.xp6(2),e.Q6J("disabled",s.isDownload),e.xp6(1),e.Q6J("ngIf",s.isDownload)("ngIfElse",g)}},dependencies:[l.O5,a.BJ,a.Sm,a.hM,a.W2,a.IJ,a.W4,a.Gu,a.gu,a.Q$,a.PQ,a.wd,a.sr,a.oU,l.Zd,m.X$],styles:[".image-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{height:100%;max-height:70dvh;object-fit:contain;width:100%}@media (max-width: 767.98px){.image-container[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{object-fit:cover}}ion-fab-button[_ngcontent-%COMP%]{--background: var(--main-color);--background-activated: #ab58f4;--background-hover: #d9b6fc}"]}),r})()}];let M=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.Bz.forChild(b),h.Bz]}),r})(),V=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.ez,f.u5,a.Pc,M,m.aw]}),r})()}}]);